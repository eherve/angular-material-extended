<!-- @format -->

@if (control) {
  <button
    mat-mini-fab
    color="primary"
    class="ngx-mat-datatable-operator-button"
    cdkOverlayOrigin
    #trigger="cdkOverlayOrigin"
    (click)="$event.stopPropagation(); isOpen = !isOpen">
    {{ control.value }}
  </button>

  <ng-template cdkConnectedOverlay [cdkConnectedOverlayOrigin]="trigger" [cdkConnectedOverlayOpen]="isOpen">
    <div class="ngx-mat-datatable-operator-column" @fade>
      @for (operator of operators; track operator) {
        @if (operator !== control.value) {
          <button
            mat-mini-fab
            color="primary"
            class="ngx-mat-datatable-operator-button"
            (click)="control.setValue(operator); isOpen = !isOpen">
            {{ operator }}
          </button>
        }
      }
    </div>
  </ng-template>
}
