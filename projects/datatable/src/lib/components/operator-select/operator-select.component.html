<!-- @format -->

@if (control) {
  <button
    mat-mini-fab
    size="small"
    class="operator-button operator-button-value"
    cdkOverlayOrigin
    #trigger="cdkOverlayOrigin"
    (click)="$event.stopPropagation(); isOpen = !isOpen">
    {{ control.value }}
  </button>

  <ng-template cdkConnectedOverlay [cdkConnectedOverlayOrigin]="trigger" [cdkConnectedOverlayOpen]="isOpen">
    <div class="operator-column" @fade>
      @for (operator of operators; track operator) {
        @if (operator !== control.value) {
          <button mat-mini-fab class="operator-button" (click)="control.setValue(operator); isOpen = !isOpen">
            {{ operator }}
          </button>
        }
      }
    </div>
  </ng-template>
}
